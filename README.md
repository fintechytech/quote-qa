# Приложение котировок

Тестовое задание для QA

## Описание

Перед вами приложение с биржевыми котировками, требуется, используя известные вам инструменты провести его автоматическое тестирование.

Приложение доступно по адресу [https://fintechytech.github.io/quote/](https://fintechytech.github.io/quote/)

Техническое задание на приложение описано ниже.

## Задание

1. Протестировать что приложение доступно и корректно загружается вместе со своими ресурсами (health-check)
2. Протестировать что приложение отвечает своим основным функциональным требованиям 
3. Протестировать что приложение отвечает своим дополнительным функциональным требованием

### Дополнительно

1. Протестировать что приложение работает без нежелательных предупреждений, ошибок или логирование, не делает лишних запросов.
2. Протестировать что приложение отвечает своим нефункциональным требованиям


### Инструменты

Вы можете использовать любые известные вам интрументы и фреймворки для выполнения задания, с условием что они открытые (не проприетарные) и работают на linux.
Желательно подготовить docker образ для быстрого запуска всех тестов

### Формат сдачи

Исходный код авто-тестов нужно упаковать в zip архив и прислать HR'у от которого вы получили это задание, в архиве должно быть минимальное описание как запустить тесты и Dockerfile если вы решили упаковать тесты в docker образ.

### Коментарии

* Начните выполнение заданий начиная с первого, можете не выполнять дополнительные задания, однако их выполнение определенно будет большим плюсом, при проверке конечно будет учитываться что на их выполнение ушло больше времени. Помните что даже с основными заданиями важнее качество их выполнения, а не количество.
* В первую очередь будет проверяться подход к тестированию и его полнота, так что можете не тратить время на оформление и документацию кода, однако код всё же должен быть читаемым и понятным
* Приложение не тестировалось раньше, так что вы возможно сможете найти в нём баги, однако специально никаких ошибок расставлено не было.
* Все тесты должны проходить независимо друг от друга, падения одного не должны приводить к остановке тестирования, тоесть если вы обнаружили ошибку в одном из пунктов, тесты должны продолжать идти и выдавать все найденные ошибки, а не только первую, если конечно найденная ошибка не приводит к невозможности протестировать все остальное.
* Время на выполнение заданий не ограничено, но также будет приниматься во внимание.


---

## Техническое задание

Далее прилагается техническое задание по которому проводилась реализация тестируемого приложения.

Требуется реализовать простую таблицу котировок для криптовалютной биржи Bitcoin.com используя eё публичный API. В таблице должны отображаться и обновляться в реальном времени следующие данные для каждой пары валют:

* Название или ID - Ticker
* Цена покупки - Bid
* Цена продажи Ask
* Наибольшая цена за день - High
* Наименьшая цена за день - Low
* Последняя цена - Last


### Функциональные требования

#### Основные

1. Реализовать таблицу котировок отображающую и обновляющую в реальном времени данные по каждой паре валют.
2. Добавить возможность сортировки по возрастанию и убыванию по каждому столбцу при клике на него.
3. Добавить переключатель ограничивающий список пар таблицы только 50-ю самыми дорогими по их последней цене (last) при этом сохранить возможность сортировки по другим столбцам.

#### Дополнительные

1. Добавить анимацию при изменении значений в таблице, подсвечивать изменения данных в каждой ячейке таблицы зеленым если значение увеличилось по сравнению с предыдущим значением и красным - если уменьшилось.
2. Добавить темную тему для приложения (светлый текст на темном фоне) и переключатель со светлой темы на тёмную и назад.

### Нефункциональные требования

1. Все имена котировок в соответствии с фильтром (пункт 3 функ. требовний) должны быть доступны для поиска по странице.
2. Так как данные в API обновляются очень часто нужно оптимизировать производительность приложения. Ориентировочо до 10% времени CPU должно уходить на скриптинг и до 40% (в зависимости от графических возможностей девайса) на рендеринг, не должно быть утечек памяти.
    1. Допустимо уменьшить частоту обновления в интерфейсе до 5 - 10 обновлений в секунду и показывать только последнее значение ячейки за текущий интервал обновления.
    2. Также допустимо уменьшить количество и частоту анимаций
    3. Не допустимо пропускать обновления значений, тоесть нужно всегда показывать последнее известное значение (с разумной частотой обновлений)
3. Первичная загрузка данных не должна занимать больше чем 2 сек
4. Приложение должно быть отзывчивым, все взаимодействия должны проходить быстрее 200 ms
5. Приложение должно корректно работать в последних версиях chrome и firefox, на десктопах с разрешением FullHD и больше, адаптации для мобильных не требуется.

### API

Для получения данных требуется использовать публичный WebSocket API биржи [bitcoin.com](https://api.exchange.bitcoin.com/), этот API работает по [JSON-RPC 2](https://www.jsonrpc.org/specification).

С помощью метода GetSymbols можно получить список пар торгующихся на бирже. Для подписки на обновления использовать метод subscribeTicker, после подписки начинают приходить сообщения-нотификации в которых содержатся и обновляются все необходимые данные. Подробнее о протоколе и форматах сообщений написано в документации по ссылкам выше.

Примерный алгоритм взаимодействия с API таков:

1. Получить список пар методом `GetSymbols`
2. Для всех пар подписаться на их котировки методом `subscribeTicker`

После этого в соединении начнут приходить сообщения `ticker` в которых будут все данные для таблицы, а именно:

* `symbol` - id пары к которой относятся данные, и одновременно имя которое стоит выводить в таблице
* `bid` - цена покупки Bid
* `ask` - цена покупки Ask
* `high` - наибольщная цена за день High
* `low` - наименьшая цена за день High
* `last` - последняя цена Last

Поле `symbol` в ответе `GetSymbols` и в сообщении `ticker` является первичным ключом, оно не будет меняться, и по нему всегда однозначно идентифицируется пара.
